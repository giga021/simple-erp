(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{55:function(e,t,a){e.exports=a(92)},85:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(17),i=a.n(r),c=a(5),l=a(6),u=a(8),s=a(7),m=a(9),d=a(18),p=a(13),h=a(3),j=a(95),g={client_id:"js",redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/callback"),response_type:"token id_token",scope:"openid profile knjizenje",authority:"http://10.0.75.1:57360",silent_redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/silent-renew"),automaticSilentRenew:!0,filterProtocolClaims:!0,loadUserInfo:!0,post_logout_redirect_uri:"".concat(window.location.protocol,"//").concat(window.location.hostname).concat(window.location.port?":".concat(window.location.port):"","/")},v=Object(p.createUserManager)(g),b=function(){return o.a.createElement(h.n,{color:"primary",dark:!0,expand:"md"},o.a.createElement(h.o,{tag:j.a,to:"/"},"Po\u010detna"),o.a.createElement(h.b,{isOpen:!0,navbar:!0},o.a.createElement(h.k,{className:"ml-auto",navbar:!0},o.a.createElement(h.l,null,o.a.createElement(h.m,{tag:j.a,to:"/glavna-knjiga"},"Glavna knjiga")),o.a.createElement(h.l,null,o.a.createElement(h.m,{tag:j.a,to:"/kartica-konta"},"Kartica konta")),o.a.createElement(h.l,null,o.a.createElement(h.m,{href:"#",onClick:function(){v.createSignoutRequest().then(function(e){v.getUser().then(function(t){v.removeUser(),window.location="".concat(e.url,"&id_token_hint=").concat(t.id_token)})})}},"Odjava")))))},f=a(99),k=a(96),E=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Simple-ERP demo"))},O=a(4),S=a(10),y=a(22),D=a(53),N=a.n(D),C=(a(25),a(23)),z=function(e){return o.a.createElement("div",{className:"error-toast"},o.a.createElement("div",{className:"error-title"},e.title),o.a.createElement("div",{className:"error-message"},e.message),o.a.createElement("div",{className:"error-additional"},e.additional))},w={info:function(e){return C.toast.info(e)},warning:function(e){return C.toast.warn(e)},error:function(e,t,a){return C.toast.error(o.a.createElement(z,{title:t,message:e,additional:a}))}},I=function(e){if(e.ok)return e.json();var t="".concat(e.status," ").concat(e.statusText);x(t,e.url)},x=function(e,t){w.error(e,"API gre\u0161ka",t)},_=a(19),K="redux-oidc-sample/LOAD_SUBSCRIPTIONS_SUCCESS";var F={channels:[]};var P=Object(_.c)({oidc:p.reducer,subscriptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SESSION_TERMINATED:case p.USER_EXPIRED:return Object.assign({},e,{channels:[]});case K:return Object.assign({},e,{channels:t.payload});default:return e}}}),T=Object(_.d)(Object(_.a)(function(e){return function(t){return function(a){console.log("Action type:",a.type),console.log("Action payload:",a.payload),console.log("State before:",e.getState()),t(a),console.log("State after:",e.getState())}}}))(_.e)(P,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Object(p.loadUser)(T,v);var B=T,U={getKonta:function(){return fetch("/api/konta",{method:"GET",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token)}}).then(I).catch(function(e){return x(e.message)})}},A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).submitForm=a.submitForm.bind(Object(O.a)(Object(O.a)(a))),a.validate=a.validate.bind(Object(O.a)(Object(O.a)(a))),a.state={konta:[]},a.initialValues={Id:N()(),IdKonto:"",Konto:"",Duguje:"0",Potrazuje:"0",Opis:"",Stornirana:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;U.getKonta().then(function(t){return e.setState({konta:t})})}},{key:"submitForm",value:function(e,t){e.Konto=this.state.konta.find(function(t){return t.Id==e.IdKonto}).Sifra,this.props.dodajStavku(e),this.props.history.goBack()}},{key:"validate",value:function(e){var t={};if(e.IdKonto||(t.IdKonto="Konto je obavezan podatak"),!isNaN(e.Duguje)&&e.Duguje||(t.Duguje="Iznos nije u korektnom formatu"),!isNaN(e.Potrazuje)&&e.Potrazuje||(t.Potrazuje="Iznos nije u korektnom formatu"),!t.Duguje&&!t.Potrazuje){var a=parseFloat(e.Duguje),n=parseFloat(e.Potrazuje);0!==a&&0!==n?(t.Duguje="Iznos samo sa jedne strane stavke mo\u017ee biti definisan",t.Potrazuje="Iznos samo sa jedne strane stavke mo\u017ee biti definisan"):0===a&&0===n&&(t.Duguje="Iznos sa jedne strane stavke mora biti definisan",t.Potrazuje="Iznos sa jedne strane stavke mora biti definisan")}return t}},{key:"render",value:function(){var e=this;return o.a.createElement(h.g,{isOpen:!0},o.a.createElement(h.j,null,"Nova stavka"),o.a.createElement(h.h,null,o.a.createElement(S.d,{ref:function(t){return e.form=t},initialValues:this.initialValues,validate:this.validate,handleSubmit:function(){return alert("handling")},onSubmit:function(t,a){return e.submitForm(t,a)},render:function(t){t.values,t.errors;var a=t.status;t.touched,t.handleBlur,t.handleChange,t.handleSubmit,t.isSubmitting;return o.a.createElement(S.c,null,o.a.createElement(h.c,null,o.a.createElement(h.f,null,"Konto"),o.a.createElement(h.d,{tag:S.b,name:"IdKonto",component:"select"},o.a.createElement("option",null),e.state.konta.map(function(e){return o.a.createElement("option",{key:e.Id,value:e.Id},e.Sifra," ",e.Naziv)})),o.a.createElement(S.a,{name:"IdKonto",component:"div",className:"text-danger"})),o.a.createElement(h.c,null,o.a.createElement(h.f,null,"Duguje"),o.a.createElement(h.d,{tag:S.b,name:"Duguje",type:"number",component:"input"}),o.a.createElement(S.a,{name:"Duguje",component:"div",className:"text-danger"})),o.a.createElement(h.c,null,o.a.createElement(h.f,null,"Potra\u017euje"),o.a.createElement(h.d,{tag:S.b,name:"Potrazuje",type:"number",component:"input"}),o.a.createElement(S.a,{name:"Potrazuje",component:"div",className:"text-danger"})),o.a.createElement(h.c,null,o.a.createElement(h.f,null,"Opis"),o.a.createElement(h.d,{tag:S.b,name:"Opis",type:"text",component:"input"}),o.a.createElement(S.a,{name:"Opis",component:"div",className:"text-danger"})),a&&a.msg&&o.a.createElement("div",{className:"text-danger"},a.msg))}})),o.a.createElement(h.i,null,o.a.createElement(h.a,{onClick:function(){return e.form.submitForm()},color:"primary"},"Sa\u010duvaj"),o.a.createElement(h.a,{onClick:this.props.history.goBack},"Nazad")))}}]),t}(n.Component),R=a(14),L=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("h6",null,"Stavke"),o.a.createElement(h.p,{hover:!0,size:"sm",className:"stavke-table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Konto"),o.a.createElement("th",{className:"right"},"Duguje"),o.a.createElement("th",{className:"right"},"Potra\u017euje"),o.a.createElement("th",{className:"right",style:{width:110}}),o.a.createElement("th",{className:"right",style:{width:100}}))),o.a.createElement("tbody",null,this.props.stavke.map(function(t){var a="";return t.Stornirana&&(a="stornirana"),o.a.createElement("tr",{key:t.Id,className:a},o.a.createElement("td",null,t.Konto),o.a.createElement("td",{className:"right"},t.Duguje.toLocaleString("sr",{minimumFractionDigits:2,maximumFractionDigits:2})),o.a.createElement("td",{className:"right"},t.Potrazuje.toLocaleString("sr",{minimumFractionDigits:2,maximumFractionDigits:2})),o.a.createElement("td",{className:"right"},o.a.createElement(h.a,{color:"warning",disabled:t.Stornirana,onClick:function(){return e.props.stornirajStavku(t.Id)}},o.a.createElement(R.h,null),"Storniraj")),o.a.createElement("td",{className:"right"},o.a.createElement(h.a,{color:"danger",disabled:t.Stornirana,onClick:function(){return e.props.ukloniStavku(t.Id)}},o.a.createElement(R.d,null),"Ukloni")))}))))}}]),t}(n.Component),H={getGlavnaKnjiga:function(){return fetch("/api/glavnaKnjiga",{method:"GET",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token)}}).then(I)},submitNalog:function(e){return fetch("/api/nalozi",{method:e.Id?"PUT":"POST",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token),"Content-Type":"application/json"},body:JSON.stringify(e)})},getPromena:function(e){return fetch("/api/nalozi/promena/".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token)}}).then(I)},zakljucaj:function(e,t){return fetch("/api/nalozi/".concat(e,"/zakljucaj?version=").concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token)}})},otkljucaj:function(e,t){return fetch("/api/nalozi/".concat(e,"/otkljucaj?version=").concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token)}})},obrisi:function(e,t){return fetch("/api/nalozi/".concat(e,"?version=").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token)}})}},V={getTipovi:function(){return fetch("/api/tipoviNaloga",{method:"GET",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token)}}).then(I)}},G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).submitForm=a.submitForm.bind(Object(O.a)(Object(O.a)(a))),a.validate=a.validate.bind(Object(O.a)(Object(O.a)(a))),a.stornirajStavku=a.stornirajStavku.bind(Object(O.a)(Object(O.a)(a))),a.ukloniStavku=a.ukloniStavku.bind(Object(O.a)(Object(O.a)(a))),a.dodajStavku=a.dodajStavku.bind(Object(O.a)(Object(O.a)(a))),a.state={tipovi:[],initialValues:{Datum:(new Date).toJSON().slice(0,10),IdTip:"",Opis:""},data:Object(y.fromJS)({Stavke:[]})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;V.getTipovi().then(function(t){return e.setState({tipovi:t})}),this.getInitialValues()}},{key:"componentDidMount",value:function(){this.props.setSubmitCallback(this.form.submitForm)}},{key:"getInitialValues",value:function(){var e=this;this.props.idNaloga&&H.getPromena(this.props.idNaloga).then(function(t){t.Datum=t.Datum.slice(0,10),e.setState({initialValues:t,data:e.state.data.set("Stavke",Object(y.fromJS)(t.Stavke))})})}},{key:"submitForm",value:function(e,t){var a=this,n=this.state.data.toJS().Stavke;e.Stavke=n,H.submitNalog(e).then(function(){t.setSubmitting(!1),a.props.close()},function(e){t.setSubmitting(!1),t.setStatus({msg:e.message})})}},{key:"validate",value:function(e){var t={};return e.Datum||(t.Datum="Datum naloga je obavezan podatak"),e.IdTip||(t.IdTip="Tip naloga je obavezan podatak"),this.state.data.get("Stavke").isEmpty()?(this.form.setStatus({msg:"Nalog mora imati bar jednu stavku"}),t.Stavke="Nalog mora imati bar jednu stavku"):this.form.setStatus({msg:""}),t}},{key:"stornirajStavku",value:function(e){var t=this,a=this.state.data.updateIn(["Stavke"],function(t){return t.update(t.findIndex(function(t){return t.get("Id")===e}),function(e){return e.set("Stornirana",!0)})});this.setState({data:a},function(){return t.validateForm()})}},{key:"ukloniStavku",value:function(e){var t=this,a=this.state.data.updateIn(["Stavke"],function(t){var a=t.findIndex(function(t){return t.get("Id")===e});return t.remove(a)});this.setState({data:a},function(){return t.validateForm()})}},{key:"dodajStavku",value:function(e){var t=this,a=this.state.data.updateIn(["Stavke"],function(t){return t.push(Object(y.fromJS)(e))});this.setState({data:a},function(){return t.validateForm()})}},{key:"render",value:function(){var e=this,t=this.state.data.toJS().Stavke;return o.a.createElement("div",null,o.a.createElement(S.d,{ref:function(t){return e.form=t},enableReinitialize:!0,initialValues:this.state.initialValues,validate:this.validate,onSubmit:function(t,a){return e.submitForm(t,a)},render:function(t){t.values,t.errors;var a=t.status,n=(t.touched,t.handleBlur,t.handleChange,t.handleSubmit,t.isSubmitting,t.validateForm);return e.validateForm=n,o.a.createElement(S.c,null,o.a.createElement(h.c,null,o.a.createElement(h.f,null,"Datum naloga"),o.a.createElement(h.d,{tag:S.b,name:"Datum",type:"date",component:"input"}),o.a.createElement(S.a,{name:"Datum",component:"div",className:"text-danger"})),o.a.createElement(h.c,null,o.a.createElement(h.f,null,"Tip naloga"),o.a.createElement(h.d,{tag:S.b,name:"IdTip",component:"select"},o.a.createElement("option",null),e.state.tipovi.map(function(e){return o.a.createElement("option",{key:e.Id,value:e.Id},e.Naziv)})),o.a.createElement(S.a,{name:"IdTip",component:"div",className:"text-danger"})),o.a.createElement(h.c,null,o.a.createElement(h.f,null,"Opis"),o.a.createElement(h.d,{tag:S.b,name:"Opis",type:"text",component:"input"}),o.a.createElement(S.a,{name:"Opis",component:"div",className:"text-danger"})),a&&a.msg&&o.a.createElement("div",{className:"text-danger"},a.msg))}}),o.a.createElement(j.a,{to:"".concat(this.props.url,"/nova-stavka")},o.a.createElement(h.a,{color:"success",className:"nova-stavka"},o.a.createElement(R.e,null),"Dodaj stavku")),o.a.createElement(L,{stavke:t,ukloniStavku:this.ukloniStavku,stornirajStavku:this.stornirajStavku}),o.a.createElement(k.a,{exact:!0,path:"".concat(this.props.url,"/nova-stavka"),render:function(t){return o.a.createElement(A,Object.assign({},t,{dodajStavku:e.dodajStavku}))}}))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).setSubmitCallback=a.setSubmitCallback.bind(Object(O.a)(Object(O.a)(a))),a.submitForm=a.submitForm.bind(Object(O.a)(Object(O.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setSubmitCallback",value:function(e){this.submitFormCallback=e}},{key:"submitForm",value:function(){this.submitFormCallback()}},{key:"render",value:function(){return o.a.createElement(h.g,{isOpen:!0},o.a.createElement(h.j,null,this.props.match.params.id?"Promena naloga":"Novi nalog"),o.a.createElement(h.h,null,o.a.createElement(G,{idNaloga:this.props.match.params.id,setSubmitCallback:this.setSubmitCallback,url:this.props.match.url,close:this.props.history.goBack})),o.a.createElement(h.i,null,o.a.createElement(h.a,{onClick:this.submitForm,color:"primary",size:"lg"},o.a.createElement(R.f,null),"Sa\u010duvaj"),o.a.createElement(h.a,{onClick:this.props.history.goBack,size:"lg"},"Nazad")))}}]),t}(n.Component),J=a(54),W=a.n(J),X=a(31),Z=(a(48),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={display:"flex",flexDirection:"column",justifyContent:"center"},a={display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"right"},n=[{Header:"Datum naloga",accessor:"Datum",style:t,Cell:function(e){return o.a.createElement("span",null,new Date(e.value).toLocaleDateString("sr"))}},{Header:"Tip",accessor:"TipNaziv",style:t},{Header:"Opis",accessor:"Opis",style:t},{Header:"Broj stavki",accessor:"BrojStavki",style:t},{Header:"Ukupno duguje",accessor:"UkupnoDuguje",style:a,Cell:function(e){return o.a.createElement("span",null,e.value.toLocaleString("sr",{minimumFractionDigits:2,maximumFractionDigits:2}))}},{Header:"Ukupno potra\u017euje",accessor:"UkupnoPotrazuje",style:a,Cell:function(e){return o.a.createElement("span",null,e.value.toLocaleString("sr",{minimumFractionDigits:2,maximumFractionDigits:2}))}},{id:"Zakljucan",accessor:"Zakljucan",style:t,Cell:function(t){return t.value?o.a.createElement(h.a,{onClick:function(){return e.props.otkljucajNalog(t.original.Id,t.original.Version)}},o.a.createElement(R.c,null),"Otklju\u010daj"):o.a.createElement(h.a,{onClick:function(){return e.props.zakljucajNalog(t.original.Id,t.original.Version)}},o.a.createElement(R.b,null),"Zaklju\u010daj")}},{id:"Promeni",accessor:"Id",style:t,Cell:function(t){return o.a.createElement(j.a,{to:"".concat(e.props.url,"/").concat(t.value)},o.a.createElement(h.a,{disabled:t.original.Zakljucan},o.a.createElement(R.a,null),"Promeni"))}},{id:"Obrisi",accessor:"Id",style:t,Cell:function(t){return o.a.createElement(h.a,{color:"danger",disabled:t.original.Zakljucan,onClick:function(){return e.props.obrisiNalog(t.original.Id,t.original.Version)}},o.a.createElement(R.i,null),"Obri\u0161i")}}];return o.a.createElement("div",null,o.a.createElement("h3",{className:"page-header"},"Glavna knjiga"),o.a.createElement(j.a,{to:"".concat(this.props.url,"/novi-nalog")},o.a.createElement(h.a,{color:"success"},o.a.createElement(R.e,null),"Novi nalog")),o.a.createElement(X.a,{data:this.props.nalozi,columns:n}))}}]),t}(n.Component)),q=a(41),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).zakljucajNalog=a.zakljucajNalog.bind(Object(O.a)(Object(O.a)(a))),a.otkljucajNalog=a.otkljucajNalog.bind(Object(O.a)(Object(O.a)(a))),a.obrisiNalog=a.obrisiNalog.bind(Object(O.a)(Object(O.a)(a))),a.initSignalr=a.initSignalr.bind(Object(O.a)(Object(O.a)(a))),a.startSignalr=a.startSignalr.bind(Object(O.a)(Object(O.a)(a))),a.reloadData=a.reloadData.bind(Object(O.a)(Object(O.a)(a))),a.state={nalozi:[]},a.reconnectSignalr=!0,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.reloadData()}},{key:"componentDidMount",value:function(){this.initSignalr()}},{key:"initSignalr",value:function(){var e=this;this.hubConnection=(new q.a).withUrl("glavna-knjiga-hub",{accessTokenFactory:function(){return e.props.access_token}}).configureLogging(q.b.Trace).build(),this.hubConnection.on("data-changed",function(){e.reloadData()}),this.hubConnection.on("knjizenje-error",function(e){var t=e.validationErrors&&e.validationErrors.map(function(e){return" - ".concat(e.message)}).join("\r\n");w.error(e.message,"Gre\u0161ka pri knji\u017eenju",t)}),this.hubConnection.onclose(function(){e.reconnectSignalr&&e.startSignalr()}),this.startSignalr()}},{key:"startSignalr",value:function(){var e=this;this.hubConnection.start().catch(function(t){t.message&&w.error("SignalR: ".concat(t.message)),setTimeout(function(){return e.startSignalr()},1e4)})}},{key:"componentWillUnmount",value:function(){console.log("Stopping SignalR..."),this.reconnectSignalr=!1,this.hubConnection.stop()}},{key:"reloadData",value:function(){var e=this;H.getGlavnaKnjiga().then(function(t){return e.setState({nalozi:t})})}},{key:"zakljucajNalog",value:function(e,t){H.zakljucaj(e,t)}},{key:"otkljucajNalog",value:function(e,t){H.otkljucaj(e,t)}},{key:"obrisiNalog",value:function(e,t){H.obrisi(e,t)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Z,{zakljucajNalog:this.zakljucajNalog,otkljucajNalog:this.otkljucajNalog,obrisiNalog:this.obrisiNalog,nalozi:this.state.nalozi,url:this.props.match.url}),o.a.createElement(W.a,null,o.a.createElement(k.a,{path:"".concat(this.props.match.url,"/novi-nalog"),component:M}),o.a.createElement(k.a,{path:"".concat(this.props.match.url,"/:id"),component:M})))}}]),t}(n.Component);var Q=Object(d.b)(function(e){return{access_token:e.oidc.user.access_token}},function(e){return{dispatch:e}})($),Y={getKarticaKonta:function(e){return fetch("/api/karticaKonta/".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(B.getState().oidc.user.access_token)}}).then(I)}},ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={display:"flex",flexDirection:"column",justifyContent:"center"},a={display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"right"},n=[{Header:"Datum naloga",accessor:"DatumNaloga",style:t,Cell:function(e){return o.a.createElement("span",null,new Date(e.value).toLocaleDateString("sr"))}},{Header:"Tip naloga",accessor:"TipNaloga",style:t},{Header:"Datum knji\u017eenja",accessor:"DatumKnjizenja",style:t,Cell:function(e){return o.a.createElement("span",null,new Date(e.value).toLocaleDateString("sr"))}},{Header:"Konto",accessor:"Konto",style:t},{Header:"Opis",accessor:"Opis",style:t},{Header:"Duguje",accessor:"Duguje",style:a,Cell:function(e){return o.a.createElement("span",null,e.value.toLocaleString("sr",{minimumFractionDigits:2,maximumFractionDigits:2}))}},{Header:"Potra\u017euje",accessor:"Potrazuje",style:a,Cell:function(e){return o.a.createElement("span",null,e.value.toLocaleString("sr",{minimumFractionDigits:2,maximumFractionDigits:2}))}},{Header:"Saldo kumulativno",accessor:"SaldoKumulativno",style:a,Cell:function(e){return o.a.createElement("span",null,e.value.toLocaleString("sr",{minimumFractionDigits:2,maximumFractionDigits:2}))}}];return o.a.createElement("div",null,o.a.createElement("h3",{className:"page-header"},"Kartica konta"),o.a.createElement(h.e,{style:{width:300}},o.a.createElement(h.d,{onChange:function(t){return e.props.setKonto(t.target.value)},type:"select"},o.a.createElement("option",null),this.props.konta.map(function(e){return o.a.createElement("option",{key:e.Id,value:e.Id},e.Sifra," ",e.Naziv)})),o.a.createElement(h.a,{onClick:this.props.reloadData},o.a.createElement(R.g,null),"Pregled")),o.a.createElement(X.a,{data:this.props.kartica,columns:n}))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).reloadData=a.reloadData.bind(Object(O.a)(Object(O.a)(a))),a.setKonto=a.setKonto.bind(Object(O.a)(Object(O.a)(a))),a.state={kartica:[],konta:[],idKonto:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;U.getKonta().then(function(t){return e.setState({konta:t||[]})})}},{key:"reloadData",value:function(){var e=this;this.state.idKonto&&Y.getKarticaKonta(this.state.idKonto).then(function(t){return e.setState({kartica:t})})}},{key:"setKonto",value:function(e){this.setState({idKonto:e})}},{key:"render",value:function(){return o.a.createElement(ee,{kartica:this.state.kartica,konta:this.state.konta,setKonto:this.setKonto,reloadData:this.reloadData})}}]),t}(n.Component),ae=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(p.CallbackComponent,{userManager:v,successCallback:function(){console.log("success"),e.props.history.push("/")},errorCallback:function(t){console.error(t),e.props.history.push("/")}},o.a.createElement("div",null,"Redirecting..."))}}]),t}(o.a.Component),ne=Object(d.b)()(ae),oe=a(80),re=function(){return o.a.createElement(oe.b.Provider,{value:{className:"icon"}},o.a.createElement("main",null,o.a.createElement(f.a,null,o.a.createElement(k.a,{exact:!0,path:"/",component:E}),o.a.createElement(k.a,{path:"/glavna-knjiga",component:Q}),o.a.createElement(k.a,{exact:!0,path:"/kartica-konta",component:te})),o.a.createElement(C.ToastContainer,null)))},ie=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"login",value:function(e){v.signinRedirect()}},{key:"render",value:function(){return o.a.createElement("div",{style:ce.root},o.a.createElement("h3",null,"Simple ERP demo aplikacija"),o.a.createElement("p",null,"Prijavite se za nastavak"),o.a.createElement("button",{onClick:this.login},"Prijava"))}}]),t}(o.a.Component),ce={root:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",flexShrink:1}},le=ie,ue=a(97),se=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.user;return!e||e.expired?o.a.createElement(le,null):o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement(re,null))}}]),t}(n.Component);var me=Object(ue.a)(Object(d.b)(function(e){return{user:e.oidc.user}},function(e){return{dispatch:e}})(se)),de=(a(85),a(88),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,{store:B},o.a.createElement(p.OidcProvider,{store:B,userManager:v},o.a.createElement("div",null,o.a.createElement(me,null),o.a.createElement(k.a,{exact:!0,path:"/callback",component:ne}))))}}]),t}(n.Component)),pe=a(98);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(90);"/silent-renew"===window.location.pathname?Object(p.processSilentRenew)():i.a.render(o.a.createElement(pe.a,null,o.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[55,2,1]]]);
//# sourceMappingURL=main.a771f4c1.chunk.js.map